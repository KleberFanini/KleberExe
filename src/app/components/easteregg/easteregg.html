<!-- Botão para abrir -->
<div *ngIf="!isVisible" class="fixed bottom-4 right-4 z-50">
    <button (click)="isVisible = true"
        class="bg-card border border-[#00e1ff]/30 rounded-lg p-3 hover:border-[#00e1ff] transition-all glow-cyan"
        title="Abrir console de comando (Ctrl+Shift+K)">
        <lucide-icon name="terminal" class="w-5 h-5 text-[#00e1ff]"></lucide-icon>
    </button>
</div>

<!-- Console -->
<div *ngIf="isVisible" class="fixed bottom-4 right-4 w-96 max-w-[calc(100vw-32rem)] z-50 animate-slide-in">
    <div class="bg-card border border-[#00e1ff] rounded-lg overflow-hidden glow-cyan">

        <!-- Cabeçalho -->
        <div class="bg-[#0e0e11]/80 border-b border-[#00e1ff]/30 px-4 py-2 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <lucide-icon name="terminal" class="w-4 h-4 text-[#00e1ff]"></lucide-icon>
                <span class="font-mono text-sm text-[#00e1ff] font-bold">Kazuto.exe</span>
            </div>
            <button (click)="isVisible = false" class="text-gray-400 hover:text-[#00e1ff] transition-colors">
                ✕
            </button>
        </div>

        <!-- Saída -->
        <div class="p-4 h-64 overflow-y-auto font-mono text-sm space-y-2">
            <div class="text-[#00e1ff]">
                {{ '>' }} Sistema inicializado com sucesso.
            </div>
            <div class="text-gray-400">
                {{ '>' }} Digite 'help' para ver os comandos disponíveis.
            </div>

            <div *ngFor="let line of output">
                <div [ngClass]="line.startsWith('>') ? 'text-[#00e1ff]' : 'text-gray-100'">
                    {{ line }}
                </div>
            </div>
        </div>

        <!-- Entrada -->
        <div class="border-t border-[#00e1ff]/30 p-3 bg-background/50">
            <div class="flex items-center gap-2">
                <span class="text-[#00e1ff]">{{ '>' }}</span>
                <input type="text" [(ngModel)]="input" (keydown.enter)="handleCommand(input)"
                    class="flex-1 bg-transparent border-none outline-none text-[#00e1ff] font-mono"
                    placeholder="Digite um comando..." autofocus />
            </div>
        </div>
    </div>